<section class="tab-content" id="tab-removebg">
    <header class="content-header">
        <div class="header-with-status">
            <h1>Remove Background</h1>
            <span class="status-badge disconnected" id="rembgStatusBadge"><i data-lucide="power"
                    class="status-icon"></i> Vérification...</span>
        </div>
        <p class="subtitle">Supprimez l'arrière-plan de vos images avec l'IA</p>
    </header>

    <div class="converter-container">
        <!-- Server Error Message -->
        <div class="server-error hidden" id="rembgServerError">
            <div class="error-icon"><i data-lucide="alert-triangle"></i></div>
            <div class="error-content">
                <h3>Serveur REMBG non connecté</h3>
                <p>Le serveur Python doit être démarré pour utiliser cette fonctionnalité.</p>
                <code>python server/python/rembg_server.py</code>
                <button id="rembgRetryBtn" class="btn-retry">Réessayer</button>
            </div>
        </div>

        <!-- Model Selection -->
        <div class="rembg-model-selector" id="rembgModelSelector">
            <div class="selector-header">
                <div class="header-icon"><i data-lucide="layers"></i></div>
                <div class="header-text">
                    <h3>Modèle IA</h3>
                    <p>Choisissez le modèle optimal pour vos images</p>
                </div>
            </div>
            <div class="model-options">
                <div class="model-option active" data-model="u2net">
                    <div class="option-header">
                        <span class="model-name">U2NET (Défaut)</span>
                        <div class="model-badges">
                            <span class="badge-perf med">Équilibré</span>
                        </div>
                    </div>
                    <p class="model-desc">Le standard polyvalent pour la plupart des objets et arrière-plans.</p>
                </div>

                <div class="model-option" data-model="u2netp">
                    <div class="option-header">
                        <span class="model-name">U2NETP</span>
                        <div class="model-badges">
                            <span class="badge-perf fast">Rapide</span>
                        </div>
                    </div>
                    <p class="model-desc">Version ultra-légère. Idéale pour les petits fichiers ou connexions lentes.
                    </p>
                </div>

                <div class="model-option" data-model="u2net_human_seg">
                    <div class="option-header">
                        <span class="model-name">Human Seg</span>
                        <div class="model-badges">
                            <span class="badge-perf med">Portrait</span>
                        </div>
                    </div>
                    <p class="model-desc">Spécialisé pour le détourage de personnes. Idéal pour les selfies.</p>
                </div>

                <div class="model-option" data-model="isnet-general-use">
                    <div class="option-header">
                        <span class="model-name">ISNET</span>
                        <div class="model-badges">
                            <span class="badge-perf pro">Précis</span>
                        </div>
                    </div>
                    <p class="model-desc">Haute fidélité pour les images complexes. Nécessite plus de calcul.</p>
                </div>

                <div class="model-option" data-model="silueta">
                    <div class="option-header">
                        <span class="model-name">Silueta</span>
                        <div class="model-badges">
                            <span class="badge-perf fast">Contours</span>
                        </div>
                    </div>
                    <p class="model-desc">Optimisé pour des silhouettes nettes et un traitement très rapide.</p>
                </div>
            </div>
        </div>

        <!-- Drop Zone -->
        <div class="drop-zone" id="rembgDropZone">
            <div class="drop-zone-content">
                <div class="drop-icon"><i data-lucide="image"></i></div>
                <p class="drop-text">Glissez vos images ici</p>
                <p class="drop-subtext">PNG, JPG, WEBP, GIF • Max 10MB par fichier</p>
                <input type="file" id="rembgFileInput"
                    accept="image/png,image/jpeg,image/jpg,image/webp,image/gif,image/bmp" hidden multiple>
            </div>
        </div>

        <!-- File List -->
        <div class="rembg-file-list hidden" id="rembgFileList">
            <!-- Files will be added here dynamically -->
        </div>

        <!-- Single File Info (Backwards compatibility/Template reference) -->
        <div class="file-info hidden" id="rembgFileInfo">
            <div class="file-preview rembg-preview">
                <img id="rembgPreview" src="" alt="Aperçu">
            </div>
            <div class="file-details">
                <h3 id="rembgFileName">image.png</h3>
                <p id="rembgFileSize">0 KB</p>
                <button class="btn-remove" id="rembgRemoveFile"><i data-lucide="x"
                        style="width: 14px; height: 14px;"></i> Retirer</button>
            </div>
        </div>

        <!-- Process Button -->
        <button class="btn-convert hidden" id="rembgProcessBtn" style="margin-top: 32px;">
            <span class="btn-text"><i data-lucide="sparkles" class="inline-icon"></i> Supprimer
                l'arrière-plan</span>
            <span class="btn-loader hidden"></span>
        </button>

        <!-- Progress -->
        <div class="progress-container hidden" id="rembgProgressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="rembgProgressFill"></div>
            </div>
            <p class="progress-text" id="rembgProgressText">Traitement en cours...</p>
        </div>

        <!-- Result -->
        <div class="rembg-result hidden" id="rembgResultContainer">
            <div class="result-preview">
                <img id="rembgResultImage" src="" alt="Résultat">
            </div>
            <div class="result-actions">
                <button class="btn-convert" id="rembgDownloadBtn">
                    <span class="btn-text"><i data-lucide="download" class="inline-icon"></i> Télécharger
                        PNG</span>
                </button>
                <button class="btn-secondary" id="rembgNewBtn">Nouvelle image</button>
            </div>
        </div>
    </div>
</section>