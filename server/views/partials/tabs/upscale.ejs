<section class="tab-content" id="tab-upscale">
    <header class="content-header">
        <div class="header-with-status">
            <h1>AI Image Upscaler</h1>
            <span class="status-badge disconnected" id="upscaleStatusBadge"><i data-lucide="power"
                    class="status-icon"></i> Vérification...</span>
        </div>
        <p class="subtitle">Agrandissez vos images sans perte de qualité via l'IA</p>
    </header>

    <div class="converter-container">
        <!-- Server Error Message -->
        <div class="server-error hidden" id="upscaleServerError">
            <div class="error-icon"><i data-lucide="alert-triangle"></i></div>
            <div class="error-content">
                <h3>Serveur Upscale non connecté</h3>
                <p>Le serveur Python doit être démarré pour utiliser cette fonctionnalité.</p>
                <code>python server/python/upscale_server.py</code>
                <button id="upscaleRetryBtn" class="btn-retry">Réessayer</button>
            </div>
        </div>

        <!-- Options -->
        <div class="upscale-options" id="upscaleOptionsSection">
            <div class="option-row">
                <label class="model-label">Modèle d'IA</label>
                <div class="toggle-group model-toggle">
                    <button class="toggle-btn active" data-model="edsr">EDSR (Précis)</button>
                    <button class="toggle-btn" data-model="msrn">MSRN (Détails)</button>
                    <button class="toggle-btn" data-model="pan">PAN (Ultra-Rapide CPU)</button>
                </div>
            </div>
            <div class="option-row" style="margin-top: 16px;">
                <label class="model-label">Facteur d'agrandissement</label>
                <div class="toggle-group scale-toggle">
                    <button class="toggle-btn" data-scale="2">x2</button>
                    <button class="toggle-btn" data-scale="3">x3</button>
                    <button class="toggle-btn active" data-scale="4">x4</button>
                </div>
            </div>
            <div class="option-row" style="margin-top: 16px;">
                <label class="model-label">Débruitage</label>
                <div class="toggle-group denoise-toggle">
                    <button class="toggle-btn active" data-denoise="false">OFF</button>
                    <button class="toggle-btn" data-denoise="true">ON</button>
                </div>
            </div>
        </div>

        <!-- Drop Zone -->
        <div class="drop-zone" id="upscaleDropZone">
            <div class="drop-zone-content">
                <div class="drop-icon"><i data-lucide="sparkles"></i></div>
                <p class="drop-text">Glissez votre image ici</p>
                <p class="drop-subtext">PNG, JPG, WEBP, BMP • Max 10MB</p>
                <input type="file" id="upscaleFileInput" accept="image/png,image/jpeg,image/jpg,image/webp,image/bmp"
                    hidden>
            </div>
        </div>

        <!-- File Info -->
        <div class="file-info hidden" id="upscaleFileInfo">
            <div class="file-preview upscale-preview">
                <img id="upscalePreview" src="" alt="Aperçu">
            </div>
            <div class="file-details">
                <h3 id="upscaleFileName">image.png</h3>
                <p id="upscaleFileSize">0 KB</p>
                <button class="btn-remove" id="upscaleRemoveFile"><i data-lucide="x"
                        style="width: 14px; height: 14px;"></i> Retirer</button>
            </div>
        </div>

        <!-- Process Button -->
        <button class="btn-convert hidden" id="upscaleProcessBtn" style="margin-top: 32px;">
            <span class="btn-text"><i data-lucide="rocket" class="inline-icon"></i> Agrandir l'image</span>
            <span class="btn-loader hidden"></span>
        </button>

        <!-- Progress -->
        <div class="progress-container hidden" id="upscaleProgressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="upscaleProgressFill"></div>
            </div>
            <p class="progress-text" id="upscaleProgressText">Upscaling en cours...</p>
        </div>

        <!-- Result -->
        <div class="rembg-result hidden" id="upscaleResultContainer">
            <div class="result-preview upscale-result-preview">
                <img id="upscaleResultImage" src="" alt="Résultat">
            </div>
            <div class="result-actions">
                <button class="btn-convert" id="upscaleDownloadBtn">
                    <span class="btn-text"><i data-lucide="download" class="inline-icon"></i> Télécharger
                        PNG</span>
                </button>
                <button class="btn-secondary" id="upscaleNewBtn">Nouvelle image</button>
            </div>
        </div>
    </div>
</section>