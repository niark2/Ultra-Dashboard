<section class="tab-content" id="tab-torrent">
    <header class="content-header">
        <div class="header-with-status">
            <h1>Torrent Manager</h1>
            <span class="status-badge" id="torrentConnectionStatus"><i data-lucide="power" class="status-icon"></i>
                Connect...</span>
        </div>
        <p class="subtitle">Gérez vos téléchargements qBittorrent</p>
    </header>

    <div class="torrent-container" style="position: relative; min-height: 400px;">
        <!-- Login Overlay -->
        <div id="torrentLoginOverlay" class="login-overlay hidden">
            <h3>Connexion qBittorrent</h3>
            <p>Veuillez vous connecter à votre interface WebUI</p>
            <div class="input-group" style="max-width: 300px; flex-direction:column; gap:10px">
                <input type="text" id="qbitUser" placeholder="Nom d'utilisateur" class="tool-input" value="admin">
                <input type="password" id="qbitPass" placeholder="Mot de passe" class="tool-input" value="adminadmin">
                <button id="qbitLoginBtn" class="btn-convert" style="width:100%">Se connecter</button>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="torrent-toolbar">
            <div class="torrent-actions">
                <button id="torrentAddBtn" class="btn-convert">
                    <span class="btn-text"><i data-lucide="plus" class="inline-icon"></i> Ajouter</span>
                </button>
                <input type="file" id="torrentFileInput" accept=".torrent" hidden>
                <button id="torrentMagnetBtn" class="btn-secondary">
                    <span class="btn-text"><i data-lucide="link" class="inline-icon"></i> Magnet</span>
                </button>
                <button id="torrentPauseAllBtn" class="btn-secondary"><i data-lucide="pause" class="inline-icon"></i>
                    Tout pauser</button>
                <button id="torrentResumeAllBtn" class="btn-secondary"><i data-lucide="play" class="inline-icon"></i>
                    Tout reprendre</button>
            </div>
            <div class="torrent-stats">
                <div class="stat-item" title="Vitesse de téléchargement">
                    <span><i data-lucide="arrow-down" class="inline-icon"></i></span>
                    <span class="stat-value" id="totalDlSpeed">0 MB/s</span>
                </div>
                <div class="stat-item" title="Vitesse d'envoi">
                    <span><i data-lucide="arrow-up" class="inline-icon"></i></span>
                    <span class="stat-value" id="totalUlSpeed">0 MB/s</span>
                </div>
            </div>
        </div>

        <!-- List -->
        <div class="torrent-list">
            <div class="torrent-header-row">
                <div>État</div>
                <div>Nom</div>
                <div>Taille</div>
                <div>Progression</div>
                <div>Vitesse</div>
                <div>Actions</div>
            </div>
            <div id="torrentListBody" class="torrent-items">
                <!-- Items injected here -->
            </div>
        </div>
    </div>
</section>

<!-- Add Modal -->
<div class="overlay" id="addTorrentOverlay"></div>
<div class="add-modal" id="addTorrentModal">
    <div class="modal-header">
        <div class="modal-title">Ajouter un Torrent</div>
        <button class="btn-icon-small" id="closeAddModal"><i data-lucide="x"
                style="width: 16px; height: 16px;"></i></button>
    </div>
    <div style="display:flex; flex-direction:column; gap:16px;">
        <button id="pasteMagnetBtn" class="btn-secondary" style="margin-bottom:8px"><i data-lucide="clipboard"
                class="inline-icon"></i> Coller du
            presse-papier</button>
        <textarea id="magnetInput" class="tool-input" rows="5"
            placeholder="Collez vos liens Magnet ou Hash ici..."></textarea>
        <button id="submitAddTorrent" class="btn-convert">Télécharger</button>
    </div>
</div>