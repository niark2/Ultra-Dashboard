<section class="tab-content" id="tab-notes">
    <header class="content-header">
        <h1 data-i18n="Bloc-Notes">üìù Bloc-Notes</h1>
        <p class="subtitle" data-i18n="Cr√©ez et organisez vos notes avec un √©diteur Markdown complet">Cr√©ez et organisez
            vos notes avec un √©diteur Markdown complet</p>
    </header>

    <div class="notes-container">
        <!-- Sidebar: Liste des notes -->
        <aside class="notes-sidebar">
            <div class="notes-sidebar-header">
                <button class="btn-primary" id="newNoteBtn">
                    <i data-lucide="plus"></i> <span data-i18n="Nouvelle note">Nouvelle note</span>
                </button>
                <div class="notes-search">
                    <i data-lucide="search"></i>
                    <input type="text" id="notesSearchInput" data-i18n-placeholder="Rechercher..."
                        placeholder="Rechercher...">
                </div>
            </div>

            <div class="notes-list" id="notesList">
                <div class="notes-empty">
                    <i data-lucide="file-text" class="notes-empty-icon"></i>
                    <p data-i18n="Aucune note">Aucune note</p>
                    <p class="notes-empty-hint" data-i18n="Cr√©ez votre premi√®re note">Cr√©ez votre premi√®re note</p>
                </div>
            </div>
        </aside>

        <!-- Main: √âditeur -->
        <main class="notes-main">
            <div class="notes-welcome" id="notesWelcome">
                <div class="notes-welcome-content">
                    <i data-lucide="book-open" class="notes-welcome-icon"></i>
                    <h2 data-i18n="Bienvenue dans votre bloc-notes">Bienvenue dans votre bloc-notes</h2>
                    <p data-i18n="Cr√©ez une nouvelle note ou s√©lectionnez-en une dans la liste">Cr√©ez une nouvelle note
                        ou s√©lectionnez-en une dans la liste</p>
                    <button class="btn-primary" id="newNoteWelcomeBtn">
                        <i data-lucide="plus"></i> <span data-i18n="Cr√©er une note">Cr√©er une note</span>
                    </button>
                </div>
            </div>

            <div class="notes-editor-container" id="notesEditorContainer" style="display: none;">
                <!-- Header de la note -->
                <div class="notes-editor-header">
                    <input type="text" id="noteTitleInput" class="note-title-input"
                        data-i18n-placeholder="Titre de la note..." placeholder="Titre de la note...">
                    <div class="notes-editor-actions">
                        <button class="btn-icon" id="togglePreviewBtn" data-i18n-title="Aper√ßu Markdown"
                            title="Aper√ßu Markdown">
                            <i data-lucide="eye"></i>
                        </button>
                        <button class="btn-icon" id="exportNoteBtn" data-i18n-title="Exporter vers Databank"
                            title="Exporter vers Databank">
                            <i data-lucide="download"></i>
                        </button>
                        <button class="btn-icon" id="deleteNoteBtn" data-i18n-title="Supprimer" title="Supprimer">
                            <i data-lucide="trash-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Toolbar Markdown -->
                <div class="markdown-toolbar">
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="bold" title="Gras (Ctrl+B)">
                            <i data-lucide="bold"></i>
                        </button>
                        <button class="toolbar-btn" data-action="italic" title="Italique (Ctrl+I)">
                            <i data-lucide="italic"></i>
                        </button>
                        <button class="toolbar-btn" data-action="strikethrough" title="Barr√©">
                            <i data-lucide="strikethrough"></i>
                        </button>
                    </div>
                    <div class="toolbar-divider"></div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="heading" title="Titre">
                            <i data-lucide="heading"></i>
                        </button>
                        <button class="toolbar-btn" data-action="quote" title="Citation">
                            <i data-lucide="quote"></i>
                        </button>
                        <button class="toolbar-btn" data-action="code" title="Code">
                            <i data-lucide="code"></i>
                        </button>
                    </div>
                    <div class="toolbar-divider"></div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="list-ul" title="Liste √† puces">
                            <i data-lucide="list"></i>
                        </button>
                        <button class="toolbar-btn" data-action="list-ol" title="Liste num√©rot√©e">
                            <i data-lucide="list-ordered"></i>
                        </button>
                        <button class="toolbar-btn" data-action="checkbox" title="Case √† cocher">
                            <i data-lucide="check-square"></i>
                        </button>
                    </div>
                    <div class="toolbar-divider"></div>
                    <div class="toolbar-group">
                        <button class="toolbar-btn" data-action="link" title="Lien">
                            <i data-lucide="link"></i>
                        </button>
                        <button class="toolbar-btn" data-action="image" title="Image">
                            <i data-lucide="image"></i>
                        </button>
                        <button class="toolbar-btn" data-action="table" title="Tableau">
                            <i data-lucide="table"></i>
                        </button>
                    </div>
                    <div class="toolbar-divider"></div>
                    <!-- AI Group -->
                    <div class="toolbar-group">
                        <button class="toolbar-btn ai-btn" id="notesAiBtn" data-i18n-title="Assistant IA"
                            title="Assistant IA">
                            <i data-lucide="sparkles"></i>
                        </button>
                    </div>
                </div>

                <!-- Tags -->
                <div class="notes-tags-container">
                    <i data-lucide="tag"></i>
                    <input type="text" id="noteTagsInput" class="note-tags-input"
                        data-i18n-placeholder="Tags (s√©par√©s par des virgules)"
                        placeholder="Tags (s√©par√©s par des virgules)">
                </div>

                <!-- √âditeur / Preview -->
                <div class="notes-editor-wrapper">
                    <textarea id="noteContentEditor" class="note-content-editor"
                        data-i18n-placeholder="√âcrivez votre note en Markdown..."
                        placeholder="√âcrivez votre note en Markdown..."></textarea>
                    <div id="noteContentPreview" class="note-content-preview" style="display: none;"></div>
                </div>

                <!-- Footer: Stats & Auto-save -->
                <div class="notes-editor-footer">
                    <div class="note-stats">
                        <span id="noteWordCount">0 mots</span>
                        <span class="stat-divider">‚Ä¢</span>
                        <span id="noteCharCount">0 caract√®res</span>
                        <span class="stat-divider">‚Ä¢</span>
                        <span class="stat-divider">‚Ä¢</span>
                        <span id="noteLastSaved" data-i18n="Non sauvegard√©">Non sauvegard√©</span>
                    </div>
                    <div class="note-save-status" id="noteSaveStatus">
                        <i data-lucide="check-circle"></i>
                        <span data-i18n="Sauvegard√©">Sauvegard√©</span>
                    </div>
                </div>
            </div>
        </main>
    </div>
</section>

<!-- AI Modal -->
<div class="ai-modal-overlay" id="notesAiModal" style="display: none;">
    <div class="ai-modal">
        <div class="ai-modal-header">
            <h3><i data-lucide="sparkles"></i> <span data-i18n="Assistant IA">Assistant IA</span></h3>
            <button class="btn-icon" id="closeAiModalBtn"><i data-lucide="x"></i></button>
        </div>
        <div class="ai-modal-body">
            <!-- √âtat initial : Liste des actions -->
            <!-- √âtat initial : Liste des actions -->
            <div class="ai-actions" id="aiActionsList">
                <button class="ai-action-btn" data-action="summarize">
                    <div class="ai-action-icon"><i data-lucide="file-text"></i></div>
                    <div class="ai-action-info">
                        <strong data-i18n="R√©sumer">R√©sumer</strong>
                        <span data-i18n="G√©n√©rer un r√©sum√© concis de la note">G√©n√©rer un r√©sum√© concis de la note</span>
                    </div>
                </button>
                <button class="ai-action-btn" data-action="fix">
                    <div class="ai-action-icon"><i data-lucide="check"></i></div>
                    <div class="ai-action-info">
                        <strong data-i18n="Corriger">Corriger</strong>
                        <span data-i18n="Correction orthographe et grammaire">Correction orthographe et grammaire</span>
                    </div>
                </button>
                <button class="ai-action-btn" data-action="continue">
                    <div class="ai-action-icon"><i data-lucide="pen-tool"></i></div>
                    <div class="ai-action-info">
                        <strong data-i18n="Continuer">Continuer</strong>
                        <span data-i18n="Compl√©ter la r√©daction du texte">Compl√©ter la r√©daction du texte</span>
                    </div>
                </button>
                <button class="ai-action-btn" data-action="ideas">
                    <div class="ai-action-icon"><i data-lucide="lightbulb"></i></div>
                    <div class="ai-action-info">
                        <strong data-i18n="Id√©es">Id√©es</strong>
                        <span data-i18n="G√©n√©rer des id√©es li√©es au contenu">G√©n√©rer des id√©es li√©es au contenu</span>
                    </div>
                </button>
            </div>

            <!-- √âtat chargement -->
            <div class="ai-processing" id="aiProcessing" style="display: none;">
                <div class="ai-spinner">
                    <i data-lucide="loader" class="spin"></i>
                </div>
                <p data-i18n="L'IA r√©fl√©chit...">L'IA r√©fl√©chit...</p>
            </div>

            <!-- √âtat r√©sultat -->
            <div class="ai-result" id="aiResult" style="display: none;">
                <div class="ai-result-content" id="aiResultContent"></div>
                <div class="ai-result-actions">
                    <button class="btn-secondary" id="aiRetryBtn" data-i18n="R√©essayer">R√©essayer</button>
                    <button class="btn-primary" id="aiApplyBtn" data-i18n="Ins√©rer">Ins√©rer</button>
                </div>
            </div>
        </div>
    </div>
</div>